---
title: "マップ設定"
---

TWSNMPのマップの名前や背景画像、ポーリングのデフォルト設定、 
Syslogの受信などの設定を行うマップ設定について説明します。


# マップ設定画面を表示する
マップ設定の画面は、メニューの「システム設定」ー「マップ」から表示できます。

![](/images/books/twsnmpfc-manual/picture_pc_8363970fa7398c1febc1ddac8f9f490b.png)

# マップ設定画面

![](/images/books/twsnmpfc-manual/picture_pc_995028437230703958e24ef982c29a8b.png)

のような画面です。

## マップ名
管理マップに名前を付けます。お好きな名前をつけてください。

## ユーザーID/パスワード
TWSNMP FCにアクセスするためのユーザーIDとパスワードです。デフォルトではtwsnmp/twsnmpになっています。動作するPC以外からアクセスできるようにする場合は安全のために変更してください。

## ポーリング間隔
ポーリング間隔のデフォルト値を秒単位で設定します。５秒から１時間の範囲で設定できます。

## タイムアウト
ポーリングの時に応答がないと判断する時間（タイムアウト）のデフォルト値を秒単位で指定します。

## リトライ回数
ポーリングの応答がない場合に、追加で確認する回数のデフォルト値を指定します。０を指定しても１回は実施します。

## SNMPモード
SNMPのモードを指定します。SNMPv2cとSNMPv3の認証、暗号に関連したモードです。SNMPのTRAP受信時と自動発見の時に使用します。
認証SHA256/暗号化AES256のモードも設定できますが、対応した通信相手がないので試していません。（動かないかもしれないという意味です。）

## Community名/ユーザーID/パスワード
SNMPモードがSNMPv2cの場合のCommunity名の設定です。
SNMPモードがSNMPv3の場合にはユーザーIDとパスワードの設定ができます。認証と暗号化は同じ設定を使います。

## AI障害判定レベル
AIが異常と判断した場合の重要度を指定します。ポーリングの重要度と同じレベルが指定できます。

## AI閾値
AIが異常と判断する条件を指定します。AIが計算したポーリングの状態が発生する可能性が指定した割合以下になった場合に異常と判断します。例えば0.1%以下と指定した場合は、１０００時間に１回ぐらい稀な状態になった場合に異常と報告するという意味です。

## Syslog
Syslogの受信を行う場合はオンに設定します。TCP/UDPの514番ポートで受信を開始します。

## SNMP Trap
SNMPのTRAPの受信を行う場合はオンに設定します。UDPの162番ポートで受信を開始します。

## NetFlow
NetFlow,IPFIXの受信を行う場合はオンに設定します。UDPの2055番ポートで受信を開始します。

## ARP Watch
ARP監視機能を使用する場合はオンに設定します。ローカルネットワークのARPをモニタします。ローカルのアドレス範囲にPINGの送信も行います。
WindowsやMac OSのデスクトップ版のDocker環境ではローカルのネットワークがDocker環境の内部ネットワークになるのであまり効果はありません。
LinuxのDocker環境では-netオプションにhostを指定すれば監視できます。

## ログ表示件数
ログを検索する場面でリストに表示する件数を指定します。

## ログ保存日数
すべてのログに関して保存する日数を指定します。
データベースのサイズを考えて設定することをおすすめします。

## モバイルアプリからの接続を許可する
iPhoneのアプリ

https://appadvice.com/game/app/twsnmp/1535856642

からの接続を許可する場合にオンに設定します。

## ＜背景画像＞ボタン
マップの背景に表示する画像ファイルをアップロードするボタンです。クリックすると

![](/images/books/twsnmpfc-manual/picture_pc_295c5cb4e3e82e0f41937a0a9e2b3ed1.png)

のようなダイアログが表示されます。＜削除＞ボタンはすでに登録されている場合に表示されます。クリックすると画像の登録を削除します。背景画像ファイルはMIMEタイプがimage/*のファイルを選択可能にしています。オフセットは画像を表示する左上の位置です。幅と高さで表示する画像のサイズを指定します。０を指定すると元の画像のサイズになります。拡大、縮小しないという意味です。

## ＜GEOIPデータベース＞ボタン
IPアドレスから位置を取得するためのデータベースファイルをアップロードするダイアログを表示します。

![](/images/books/twsnmpfc-manual/picture_pc_92fb0670757d37aa5284b02e0f3857f5.png)

既に登録されている場合は＜削除＞ボタンが表示されます。クリックすると削除できます。GEOIPデータベースファイルを選択して＜保存＞をクリックすれば登録できます。データベースファイルの入手方法は


を参考にしてください。１年前の記事なので変わっていたら更新します。

